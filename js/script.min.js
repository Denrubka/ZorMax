const tabs=document.querySelectorAll(".vacansies-tab"),menuOpen=document.querySelector(".menu-open"),menuClose=document.querySelector(".menu-close"),mobileMenu=document.querySelector(".mobile-menu"),content=document.querySelector(".content"),links=document.querySelectorAll('a[href*="#"]'),headerSelectWrapper=document.querySelector(".header-select__wrapper"),headerSelectBtn=document.querySelector(".header-select__btn"),headerSelectList=document.querySelector(".header-select__list"),headerSelectItem=document.querySelector(".header-select__item"),headerSelectWrapperMobile=document.querySelector(".header-select__wrapper-mobile"),headerSelectBtnMobile=document.querySelector(".header-select__btn-mobile"),headerSelectListMobile=document.querySelector(".header-select__list-mobile"),headerSelectItemMobile=document.querySelector(".header-select__item-mobile");let hash=location.hash.substring(1),tabActive="";headerSelectWrapper.addEventListener("click",e=>{const t=e.target;if(t===headerSelectBtn&&(headerSelectBtn.classList.toggle("header-select__btn-active"),headerSelectList.classList.toggle("header-select__list-active")),t==headerSelectItem){let e="";e=headerSelectBtn.textContent,headerSelectBtn.textContent=t.textContent,headerSelectBtnMobile.textContent=t.textContent,t.textContent=e,headerSelectItemMobile.textContent=e,headerSelectBtn.classList.remove("header-select__btn-active"),headerSelectList.classList.remove("header-select__list-active")}}),headerSelectWrapperMobile.addEventListener("click",e=>{const t=e.target;if(t===headerSelectBtnMobile&&(headerSelectBtnMobile.classList.toggle("header-select__btn-mobile-active"),headerSelectListMobile.classList.toggle("header-select__list-mobile-active")),t==headerSelectItemMobile){let e="";e=headerSelectBtnMobile.textContent,headerSelectBtnMobile.textContent=t.textContent,headerSelectBtn.textContent=t.textContent,t.textContent=e,headerSelectItem.textContent=e,headerSelectBtnMobile.classList.remove("header-select__btn-mobile-active"),headerSelectListMobile.classList.remove("header-select__list-mobile-active")}});const slider=new Swiper(".vacansies-slider",{slidesPerView:1,slidesPerGroup:1,observer:!0,initialSlide:0,observeSlideChildren:!0,observeParents:!0,breakpoints:{360:{slidesPerView:1,slidesPerGroup:1,spaceBetween:40},768:{slidesPerView:2,slidesPerGroup:2,spaceBetween:40},1200:{slidesPerView:3,slidesPerGroup:3,spaceBetween:40}},navigation:{nextEl:".btn-next",prevEl:".btn-prev"},pagination:{el:".swiper-pagination"}}),getData=async()=>{const e=await fetch("db.json");if(e.ok)return e.json();throw new Error(`Данные небыли получены, ошибка ${e.status} ${e.statusText}`)},getVacansies=(e,t,s)=>{getData().then(a=>{e(s?a.filter(e=>e[t]===s):a),"Все вакансии"===s&&e(a)}).catch(e=>{console.error(e)})};try{if(!document.querySelector(".vacansies-slider"))throw"This is not a slider";const e=document.querySelector(".swiper-parrent"),t=({name:e,experience:t,id:s})=>{const a=document.createElement("div");return a.classList.add("vacansies-slider__card"),a.classList.add("swiper-slide"),a.innerHTML=`\n        <h3 class="vacansies-slider__card-title">${e}</h3>\n        <span class="vacansies-slider__card-experience">Опыт работы: <span class="vacansies-slider__card-strong">${t}</span></span>\n        <a href="vacansies-page.html#${s}" class="vacansies-slider__card-link">Подробнее\n            <svg class="icon" width="24" height="12">\n                <use xlink:href="./img/icons/icons.svg#next"></use>\n            </svg>\n        </a>\n        `,a},s=s=>{e.textContent="",s.forEach(s=>{const a=t(s);e.append(a)})};tabs.forEach(e=>{e.addEventListener("click",()=>{tabActive=e.textContent,getVacansies(s,"category",tabActive)})}),getVacansies(s,"category",tabActive)}catch(e){console.warn(e)}try{if(!document.querySelector(".vacansies-page"))throw"This is a not vacansies-page";const e=document.querySelector(".vacansies-page__title"),t=document.querySelector(".vacansies-page__experience-subtitle"),s=document.querySelector(".vacansies-page__skills-list"),a=document.querySelector(".vacansies-page__offer-list"),n=document.querySelector(".vacansies-page__text"),c=e=>e.reduce((e,t,s)=>e+`<li class="vacansies-page__skills-item" data-id="${s}">${t}</li>`,""),i=([{name:i,experience:l,skills:r,offers:o,text:d}])=>{e.textContent=i,t.textContent=l,s.innerHTML=c(r),a.innerHTML=c(o),d?n.textContent=d:n.style.display="none"};window.addEventListener("hashchange",()=>{hash=location.hash.substring(1),getVacansies(i,"id",hash),window.scrollTo(0,0)}),getVacansies(i,"id",hash)}catch(e){console.warn(e)}tabs.forEach(e=>{e.addEventListener("click",()=>{tabs.forEach(e=>{e.classList.remove("tab-active")}),e.matches(".tab-active")||e.classList.add("tab-active")})}),menuOpen.addEventListener("click",()=>{mobileMenu.classList.add("mobile-menu__active"),content.classList.add("content-active"),document.body.classList.add("noscroll")}),menuClose.addEventListener("click",()=>{mobileMenu.classList.remove("mobile-menu__active"),content.classList.remove("content-active"),document.body.classList.remove("noscroll")});