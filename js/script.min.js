const tabs=document.querySelectorAll(".vacansies-tab"),menuOpen=document.querySelector(".menu-open"),menuClose=document.querySelector(".menu-close"),mobileMenu=document.querySelector(".mobile-menu"),content=document.querySelector(".content"),links=document.querySelectorAll('a[href*="#"]');let hash=location.hash.substring(1),tabActive="";const slider=new Swiper(".vacansies-slider",{slidesPerView:1,loop:!0,observer:!0,initialSlide:0,observeSlideChildren:!0,observeParents:!0,breakpoints:{360:{slidesPerView:1,spaceBetween:40},768:{slidesPerView:2,spaceBetween:40},1200:{slidesPerView:3,spaceBetween:40}},navigation:{nextEl:".btn-next",prevEl:".btn-prev"}}),getData=async()=>{const e=await fetch("db.json");if(e.ok)return e.json();throw new Error(`Данные небыли получены, ошибка ${e.status} ${e.statusText}`)},getVacansies=(e,s,t)=>{getData().then(n=>{e(t?n.filter(e=>e[s]===t):n),"Все вакансии"===t&&e(n)}).catch(e=>{console.error(e)})};try{if(!document.querySelector(".vacansies-slider"))throw"This is not a slider";const e=document.querySelector(".swiper-parrent"),s=({name:e,experience:s,id:t})=>{const n=document.createElement("div");return n.classList.add("vacansies-slider__card"),n.classList.add("swiper-slide"),n.innerHTML=`\n        <h3 class="vacansies-slider__card-title">${e}</h3>\n        <span class="vacansies-slider__card-experience">Опыт работы: <span class="vacansies-slider__card-strong">${s}</span></span>\n        <a href="vacansies-page.html#${t}" class="vacansies-slider__card-link">Подробнее\n            <svg class="icon" width="24" height="12">\n                <use xlink:href="./img/icons/icons.svg#next"></use>\n            </svg>\n        </a>\n        `,n},t=t=>{e.textContent="",t.forEach(t=>{const n=s(t);e.append(n)})};tabs.forEach(e=>{e.addEventListener("click",()=>{tabActive=e.textContent,getVacansies(t,"category",tabActive)})}),getVacansies(t,"category",tabActive)}catch(e){console.warn(e)}try{if(!document.querySelector(".vacansies-page"))throw"This is a not vacansies-page";const e=document.querySelector(".vacansies-page__title"),s=document.querySelector(".vacansies-page__experience-subtitle"),t=document.querySelector(".vacansies-page__skills-list"),n=document.querySelector(".vacansies-page__offer-list"),a=document.querySelector(".vacansies-page__text"),c=e=>e.reduce((e,s,t)=>e+`<li class="vacansies-page__skills-item" data-id="${t}">${s}</li>`,""),i=([{name:i,experience:o,skills:r,offers:l,text:d}])=>{e.textContent=i,s.textContent=o,t.innerHTML=c(r),n.innerHTML=c(l),d?a.textContent=d:a.style.display="none"};window.addEventListener("hashchange",()=>{hash=location.hash.substring(1),getVacansies(i,"id",hash),window.scrollTo(0,0)}),getVacansies(i,"id",hash)}catch(e){console.warn(e)}tabs.forEach(e=>{e.addEventListener("click",()=>{tabs.forEach(e=>{e.classList.remove("tab-active")}),e.matches(".tab-active")||e.classList.add("tab-active")})}),menuOpen.addEventListener("click",()=>{mobileMenu.classList.add("mobile-menu__active"),content.classList.add("content-active"),document.body.classList.add("noscroll")}),menuClose.addEventListener("click",()=>{mobileMenu.classList.remove("mobile-menu__active"),content.classList.remove("content-active"),document.body.classList.remove("noscroll")});