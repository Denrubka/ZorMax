const tabs=document.querySelectorAll(".vacansies-tab"),menuOpen=document.querySelector(".menu-open"),menuClose=document.querySelector(".menu-close"),mobileMenu=document.querySelector(".mobile-menu"),content=document.querySelector(".content"),links=document.querySelectorAll('a[href*="#"]');let hash=location.hash.substring(1),tabActive="";const slider=new Swiper(".vacansies-slider",{slidesPerView:1,spaceBetween:10,loop:!0,observer:!0,initialSlide:0,observeSlideChildren:!0,observeParents:!0,breakpoints:{640:{slidesPerView:3,spaceBetween:40}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),getData=async()=>{const e=await fetch("db.json");if(e.ok)return e.json();throw new Error(`Данные небыли получены, ошибка ${e.status} ${e.statusText}`)},getVacansies=(e,t,s)=>{getData().then(n=>{e(s?n.filter(e=>e[t]===s):n),"Все вакансии"===s&&e(n)}).catch(e=>{console.error(e)})};try{if(!document.querySelector(".vacansies-slider"))throw"This is not a slider";const e=document.querySelector(".swiper-parrent"),t=({name:e,experience:t,id:s})=>{const n=document.createElement("div");return n.classList.add("vacansies-slider__card"),n.classList.add("swiper-slide"),n.innerHTML=`\n        <h3 class="vacansies-slider__card-title">${e}</h3>\n        <span class="vacansies-slider__card-experience">Опыт работы: <span class="vacansies-slider__card-strong">${t}</span></span>\n        <a href="vacansies-page.html#${s}" class="vacansies-slider__card-link">Подробнее\n            <svg class="icon" width="24" height="12">\n                <use xlink:href="./img/icons/icons.svg#next"></use>\n            </svg>\n        </a>\n        `,n},s=s=>{e.textContent="",s.forEach(s=>{const n=t(s);e.append(n)})};tabs.forEach(e=>{e.addEventListener("click",()=>{tabActive=e.textContent,getVacansies(s,"category",tabActive)})}),getVacansies(s,"category",tabActive)}catch(e){console.warn(e)}try{if(!document.querySelector(".vacansies-page"))throw"This is a not vacansies-page";const e=document.querySelector(".vacansies-page__title"),t=document.querySelector(".vacansies-page__experience-subtitle"),s=document.querySelector(".vacansies-page__skills-list"),n=document.querySelector(".vacansies-page__offer-list"),a=document.querySelector(".vacansies-page__text"),c=e=>e.reduce((e,t,s)=>e+`<li class="vacansies-page__skills-item" data-id="${s}">${t}</li>`,""),i=([{name:i,experience:o,skills:r,offers:l,text:d}])=>{e.textContent=i,t.textContent=o,s.innerHTML=c(r),n.innerHTML=c(l),d?a.textContent=d:a.style.display="none"};window.addEventListener("hashchange",()=>{hash=location.hash.substring(1),getVacansies(i,"id",hash),window.scrollTo(0,0)}),getVacansies(i,"id",hash)}catch(e){console.warn(e)}tabs.forEach(e=>{e.addEventListener("click",()=>{tabs.forEach(e=>{e.classList.remove("tab-active")}),e.matches(".tab-active")||e.classList.add("tab-active")})}),menuOpen.addEventListener("click",()=>{mobileMenu.classList.add("mobile-menu__active"),content.classList.add("content-active"),document.body.classList.add("noscroll")}),menuClose.addEventListener("click",()=>{mobileMenu.classList.remove("mobile-menu__active"),content.classList.remove("content-active"),document.body.classList.remove("noscroll")});